<!DOCTYPE html>
<html lang=zh>
<head>
    <meta charset="utf-8">
    
    <title>klevan blogs</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta property="og:type" content="website">
<meta property="og:title" content="klevan blogs">
<meta property="og:url" content="http://sunshichuang.com/index.html">
<meta property="og:site_name" content="klevan blogs">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="klevan blogs">
    

    

    

    <link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/libs/open-sans/styles.css">
    <link rel="stylesheet" href="/libs/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">

    <script src="/libs/jquery/2.1.3/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">
    
    
        <link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css">
    
    
    
    


</head>

<body>
    <div id="container">
        <header id="header">
    <div id="header-main" class="header-inner">
        <div class="outer">
            <a href="/" id="logo">
                <i class="logo"></i>
                <span class="site-title">klevan blogs</span>
            </a>
            <nav id="main-nav">
                
                    <a class="main-nav-link" href="/.">Home</a>
                
                    <a class="main-nav-link" href="/archives">Archives</a>
                
                    <a class="main-nav-link" href="/categories">Categories</a>
                
                    <a class="main-nav-link" href="/tags">Tags</a>
                
                    <a class="main-nav-link" href="/about">About</a>
                
            </nav>
            
                
                <nav id="sub-nav">
                    <div class="profile" id="profile-nav">
                        <a id="profile-anchor" href="javascript:;">
                            <img class="avatar" src="/css/images/avatar.png" />
                            <i class="fa fa-caret-down"></i>
                        </a>
                    </div>
                </nav>
            
            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="搜索" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="想要查找什么..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
        </div>
    </div>
    <div id="main-nav-mobile" class="header-sub header-inner">
        <table class="menu outer">
            <tr>
                
                    <td><a class="main-nav-link" href="/.">Home</a></td>
                
                    <td><a class="main-nav-link" href="/archives">Archives</a></td>
                
                    <td><a class="main-nav-link" href="/categories">Categories</a></td>
                
                    <td><a class="main-nav-link" href="/tags">Tags</a></td>
                
                    <td><a class="main-nav-link" href="/about">About</a></td>
                
                <td>
                    
    <div class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="搜索" />
    </div>

                </td>
            </tr>
        </table>
    </div>
</header>

        <div class="outer">
            
                

<aside id="profile">
    <div class="inner profile-inner">
        <div class="base-info profile-block">
            <img id="avatar" src="/css/images/avatar.png" />
            <h2 id="name">孙士闯</h2>
            <h3 id="title">A Developer &amp; Designer</h3>
            <span id="location"><i class="fa fa-map-marker"></i>hangzhou, China</span>
            <a id="follow" target="_blank" href="https://github.com/klevantrain/">关注我</a>
        </div>
        <div class="article-info profile-block">
            <div class="article-info-block">
                6
                <span>文章</span>
            </div>
            <div class="article-info-block">
                2
                <span>标签</span>
            </div>
        </div>
        
        <div class="profile-block social-links">
            <table>
                <tr>
                    
                    
                    <td>
                        <a href="http://github.com/klevantrain" target="_blank" title="github" class=tooltip>
                            <i class="fa fa-github"></i>
                        </a>
                    </td>
                    
                </tr>
            </table>
        </div>
        
    </div>
</aside>

            
            <section id="main">
    <article id="post-nio-channel" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/nio-channel/">NIO系列3-JAVA NIO Channels</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/nio-channel/">
            <time datetime="2018-03-31T05:01:51.000Z" itemprop="datePublished">2018-03-31</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/NIO/">NIO</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/IO/">IO</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <p><img src="/images/IO-TU.jpg" alt=""></p>
<p>Java NIO Channels 跟流很相似，但是跟流又有着如下的不同点：</p>
<ul>
<li>数据可以同时支持读跟写入Channels。而流通常来京只能是单向的，要不是读，要不是写。</li>
<li>Channels可以支持异步的读跟写</li>
<li>Channels通常都是从缓冲区Buffer中读数据，或者向Buffer中写数据</li>
</ul>
<p>如上面提到的，通常我们都是把数据从通道中读入缓冲区，或者把数据从缓冲区写入通道.</p>
<h3 id="Channel的几种实现"><a href="#Channel的几种实现" class="headerlink" title="Channel的几种实现"></a>Channel的几种实现</h3><p>在java的NIO中有如下几种重要的Channel实现：</p>
<ul>
<li>FileChannel</li>
<li>DatagramChannel</li>
<li>SocketChannel</li>
<li>ServerSocketChannel<br>其中，FileChannel从文件中读取数据，或者向文件中写数据。<br>  DatagramChannel可以通过UDP协议从网络中读写数据。<br>  SocketChannel可以通过TCP协议从网络中读写数据。<br>  ServerSocketChannel允许我们监听一个TCP的连接，类似于已web服务器做的事情。对于每个新建的TCP连接，，一个SocketChannel实例都会被创建。</li>
</ul>
<h3 id="基础Channel示例"><a href="#基础Channel示例" class="headerlink" title="基础Channel示例"></a>基础Channel示例</h3><p>下面是一个用FileChannel读取文件到缓冲区的代码实例：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">//开启一个读的通道</div><div class="line">RandomAccessFile aFile = new RandomAccessFile(&quot;data/nio-data.txt&quot;, &quot;rw&quot;);</div><div class="line">    FileChannel inChannel = aFile.getChannel();</div><div class="line">    //分配48byte的缓冲区用来存放数据</div><div class="line">    ByteBuffer buf = ByteBuffer.allocate(48);</div><div class="line">    int bytesRead = inChannel.read(buf);</div><div class="line">    while (bytesRead != -1) &#123;</div><div class="line">      System.out.println(&quot;Read &quot; + bytesRead);</div><div class="line">      //这行代码一定要有，否则永远读不到数据，原因看下面解释</div><div class="line">      buf.flip();</div><div class="line">      while(buf.hasRemaining())&#123;</div><div class="line">          System.out.print((char) buf.get());</div><div class="line">      &#125;</div><div class="line"></div><div class="line">      buf.clear();</div><div class="line">      bytesRead = inChannel.read(buf);</div><div class="line">    &#125;</div><div class="line">    aFile.close();</div></pre></td></tr></table></figure></p>
<p>注意buf.flip()这行代码，flip调换这个buffer的当前位置，并且设置当前位置是0。意思就是：将缓存字节数组的指针设置为数组的开始序列即数组下标0。这样就可以从buffer开头，对该buffer进行遍历（读取）了。</p>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="http://sunshichuang.com/nio-channel/" data-id="cjhho6ssc00002meyjhxakcd3" class="article-share-link"><i class="fa fa-share"></i>分享到</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fa fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    

        </footer>
    </div>
    
</article>



    <article id="post-nio-buffer" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/nio-buffer/">NIO系列3-JAVA NIO Buffers</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/nio-buffer/">
            <time datetime="2018-03-31T05:01:51.000Z" itemprop="datePublished">2018-03-31</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/NIO/">NIO</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/IO/">IO</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <p><img src="/images/IO-TU.jpg" alt=""><br>Java NIO Buffers 用来跟NIO通道Channels湘湖协作。如前文所述，数据从通道中读入缓冲区，从缓冲区写进通道。</p>
<p>一个缓冲区本质上是可以往里面写入数据的内存块，写入的数据随后又可以再重新读取出来，这些内存块被NIO的Buffer对象所包装，Buffer对象提供了一些列方法让我们更容易的处理内存块中的数据。</p>
<h3 id="Buffer的基础用法"><a href="#Buffer的基础用法" class="headerlink" title="Buffer的基础用法"></a>Buffer的基础用法</h3><p>使用Buffer来处理数据的读写，通常遵循以下4个步骤：</p>
<p>###1.讲数据写入Buffer中</p>
<p>###2.调用buffer.flip()方法反转数据</p>
<p>###3.将数据从Buffer中读出</p>
<p>###4.调用buffer.clear() 或者 buffer.compact()方法。</p>
<p>当你向缓冲区中写入数据时，缓冲区会持续记录你已经写入的数据量。当你需要从缓冲区读取数据时，首先要把buffer从写入模式转换到读取模式，此时需要调用flip()方法反转缓冲区，实现模式的转换。在缓冲区的读取模式下，缓冲区允许你把写入的数据全部读取出来。</p>
<p>当所有的数据都已经读取完后，我们需要清空缓冲区，为之后的继续写入做好准备。清空缓冲区有两种实现方法：</p>
<ul>
<li>调用clear()方法；</li>
<li>调用compact()方法。<br>这两种的方法的区别是：clear()方法会清空所有写入缓冲区的数据，而compact()仅仅清空已经被读取的那些数据，所有还未读的数据都会被移到缓冲区的开始，之后写入的新数据会紧接在这些未读数据后面。</li>
</ul>
<p>下面的一个简单例子演示了Buffer的使用，包括一系列的write, flip, read 和 clear 操作。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">RandomAccessFile aFile = new RandomAccessFile(&quot;data/nio-data.txt&quot;, &quot;rw&quot;);</div><div class="line">FileChannel inChannel = aFile.getChannel();</div><div class="line"></div><div class="line">//create buffer with capacity of 48 bytes</div><div class="line">ByteBuffer buf = ByteBuffer.allocate(48);</div><div class="line"></div><div class="line">int bytesRead = inChannel.read(buf); //read into buffer.</div><div class="line">while (bytesRead != -1) &#123;</div><div class="line"></div><div class="line">  buf.flip();  //make buffer ready for read</div><div class="line"></div><div class="line">  while(buf.hasRemaining())&#123;</div><div class="line">      System.out.print((char) buf.get()); // read 1 byte at a time</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  buf.clear(); //make buffer ready for writing</div><div class="line">  bytesRead = inChannel.read(buf);</div><div class="line">&#125;</div><div class="line">aFile.close();</div></pre></td></tr></table></figure>
<h3 id="Buffer：-Capacity-Position-以及-Limit的说明"><a href="#Buffer：-Capacity-Position-以及-Limit的说明" class="headerlink" title="Buffer： Capacity, Position 以及 Limit的说明"></a>Buffer： Capacity, Position 以及 Limit的说明</h3><p>一个buffer通常是一块可以读写的内存块。这个内存块被一个NIO的Buffer对象包裹，Buffer提供了一些列方法使得我们更容易操控这个内存块。</p>
<p>为了更了解Buffer的工作机制，有三个属性是我们需要很熟悉的，他们分别是：</p>
<ul>
<li>capacity</li>
<li>position</li>
<li>limit</li>
</ul>
<p>position 和 limit 的具体意思，取决于当前Buffer的工作状态时读还是写。Capacity无论在何种场景下表达的意思都是相同的。</p>
<p>以下是对三个属性的一些解释说明，<br>Here is an illustration of capacity, position and limit in write and read modes. The explanation follows in the sections after the illustration.</p>
<p> Java NIO: Buffer capacity, position and limit in write and read mode.<br>Buffer capacity, position and limit in write and read mode.</p>
<ul>
<li>Capacity<br>Buffer作为一个内存块，具有明确的大小，这个确定的大小我们称之为”capacity”。你可以向缓冲区中写入字符、字节等信息。只有当缓冲区的大小超过了Capacity的限制，在写更多内容前你才需要清空它(把数据读出或者清空缓冲区)</li>
</ul>
<ul>
<li>Position<br>当你将数据写入缓冲区的时候，你就处于一个特定的位置。初始化的时候这个位置是0.当你将数据写入写入缓冲区，指针位置就会转移到下一个可以插入数据的单元格。Position的值最大可以变为-1。</li>
</ul>
<p>当你从缓冲区读取数据的时候，position的值会被重置为0，这时，你读取的位置从0开始，随着数据的不断读取，指针位置一直伴随移动，读到哪里，指针位置就会指向你已读取数据的下一位。</p>
<p>当你从缓冲区读取数据的时候你也可以从一个给定的特定位置开始读取。当你将缓冲区从写模式置为读模式时，position的值会被重置为0。然后当你从缓冲区的position位置读取数据时，position值会提前到下个你准备读物数据的位置。</p>
<ul>
<li>Limit<br>在缓冲区的写模式下，limit的值是你还可以向缓冲区写入数据的大小。在读模式下，limit的值就等于缓冲区的大小。</li>
</ul>
<p>因此，当缓冲区被置为写模式时，limit的值会被设置成之前读模式下的位置。换句话说，你能读出来的数据大小就是你之前写入的数据大小。</p>
<h3 id="缓冲区类型"><a href="#缓冲区类型" class="headerlink" title="缓冲区类型"></a>缓冲区类型</h3><p>Java 的 NIO 有以下几种缓冲区类型:</p>
<ul>
<li>ByteBuffer</li>
<li>MappedByteBuffer</li>
<li>CharBuffer</li>
<li>DoubleBuffer</li>
<li>FloatBuffer</li>
<li>IntBuffer</li>
<li>LongBuffer</li>
<li>ShortBuffer<br>如你所见，这些缓冲区类型代表了不同类型的数据类型。也就是说，这些数据的缓冲区使得你的缓冲区可以处理字节、短整型、整型、长整型、浮点型、双精度型等数据类型。</li>
</ul>
<p>MappedByteBuffer 有一点特殊，我们将在专门的地方讲解他。</p>
<h3 id="为Buffer分配大小"><a href="#为Buffer分配大小" class="headerlink" title="为Buffer分配大小"></a>为Buffer分配大小</h3><p>当实例化一个Buffer对象的时候必须先为它分配大小。每个Buffer类都有一个allocate()来做这件事，下面是个展示如何为缓冲区类型为ByteBuffer分配一个48比特容量大小的示例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ByteBuffer buf = ByteBuffer.allocate(48);</div></pre></td></tr></table></figure>
<h3 id="向缓冲区写入数据"><a href="#向缓冲区写入数据" class="headerlink" title="向缓冲区写入数据"></a>向缓冲区写入数据</h3><p>有两种方式可以向缓冲区写入数据：</p>
<ul>
<li>从Channel中向Buffer写入数据</li>
<li>自己通过缓冲区提供的put()方法向Buffer中写数据<br>下面的例子演示了如何从Channel中向Buffer写数据<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">public class ChannelsReadOrWriteTest &#123;</div><div class="line">        public static void main(String args[])&#123;</div><div class="line">            try&#123;</div><div class="line">                RandomAccessFile aFile = new RandomAccessFile(&quot;/Users/sunshichuang/Downloads/test11.txt&quot;, &quot;rw&quot;);</div><div class="line">                FileChannel inChannel = aFile.getChannel();</div><div class="line"></div><div class="line">                ByteBuffer buf = ByteBuffer.allocate(48);</div><div class="line">                //这里是从Channel向Buffer中写数据</div><div class="line">                int bytesRead = inChannel.read(buf);</div><div class="line">                while (bytesRead != -1) &#123;</div><div class="line"></div><div class="line">                    System.out.println(&quot;Read &quot; + bytesRead);</div><div class="line">                    buf.flip();</div><div class="line"></div><div class="line">                    while(buf.hasRemaining())&#123;</div><div class="line">                        System.out.print((char) buf.get());</div><div class="line">                    &#125;</div><div class="line">                    buf.clear();</div><div class="line">                    bytesRead = inChannel.read(buf);</div><div class="line">                &#125;</div><div class="line">                aFile.close();</div><div class="line">            &#125;catch(Exception e)&#123;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<p>下面的例子演示了如何用put方法向Buffer中写数据：</p>
<pre><code>public class ChannelsReadOrWriteTest {

        public static void main(String args[]){

            try{
                RandomAccessFile aFile = new RandomAccessFile(&quot;/Users/sunshichuang/Downloads/test11.txt&quot;, &quot;rw&quot;);
                FileChannel inChannel = aFile.getChannel();

                IntBuffer buf = IntBuffer.allocate(48);

                buf.put(123);
                buf.flip();
                while(buf.hasRemaining()){
                    System.out.print(buf.get());
                }
                aFile.close();
            }catch(Exception e){
            }
        }
}
</code></pre><p>put()方法提供了多个不同版本，使得我们可以通过多种不同的方式向Buffer中写入数据。比如，向特定的位置写入数据，或者写入字节数组类型的数据。更多的用户请参考java的doc文档。</p>
<h3 id="flip"><a href="#flip" class="headerlink" title="flip()"></a>flip()</h3><p>flip()方法将Buffer从读数据模式转入转入到写模式。调用flip()方法将Buffer的position位置重置为0，并且把limit的值设置为之前position的值。<br>换句话说，position现在标记是读的位置，limit标记当前写入的数据量大小或者当前缓冲区还有多少数据可以读取。</p>
<h3 id="从缓冲区读数据"><a href="#从缓冲区读数据" class="headerlink" title="从缓冲区读数据"></a>从缓冲区读数据</h3><p>同样有两种方式可以从缓冲区读取数据。</p>
<ul>
<li>把数据从缓冲区读入到通道中</li>
<li>自己从缓冲区中使用缓冲区的get()方法读数据<br>下面的例子演示了第一种操作：</li>
</ul>
<p>//read from buffer into channel.<br>int bytesWritten = inChannel.write(buf);<br>Here is an example that reads data from a Buffer using the get() method:</p>
<p>byte aByte = buf.get();<br>There are many other versions of the get() method, allowing you to read data from the Buffer in many different ways. For instance, reading at specific positions, or reading an array of bytes from the buffer. See the JavaDoc for the concrete buffer implementation for more details.</p>
<p>rewind()<br>The Buffer.rewind() sets the position back to 0, so you can reread all the data in the buffer. The limit remains untouched, thus still marking how many elements (bytes, chars etc.) that can be read from the Buffer.</p>
<p>clear() and compact()<br>Once you are done reading data out of the Buffer you have to make the Buffer ready for writing again. You can do so either by calling clear() or by calling compact().</p>
<p>If you call clear() the position is set back to 0 and the limit to capacity. In other words, the Buffer is cleared. The data in the Buffer is not cleared. Only the markers telling where you can write data into the Buffer are.</p>
<p>If there is any unread data in the Buffer when you call clear() that data will be “forgotten”, meaning you no longer have any markers telling what data has been read, and what has not been read.</p>
<p>If there is still unread data in the Buffer, and you want to read it later, but you need to do some writing first, call compact() instead of clear().</p>
<p>compact() copies all unread data to the beginning of the Buffer. Then it sets position to right after the last unread element. The limit property is still set to capacity, just like clear() does. Now the Buffer is ready for writing, but you will not overwrite the unread data.</p>
<p>mark() and reset()<br>You can mark a given position in a Buffer by calling the Buffer.mark() method. You can then later reset the position back to the marked position by calling the Buffer.reset() method. Here is an example:</p>
<p>buffer.mark();</p>
<p>//call buffer.get() a couple of times, e.g. during parsing.</p>
<p>buffer.reset();  //set position back to mark.<br>equals() and compareTo()<br>It is possible to compare two buffers using equals() and compareTo().</p>
<p>equals()<br>Two buffers are equal if:</p>
<p>They are of the same type (byte, char, int etc.)<br>They have the same amount of remaining bytes, chars etc. in the buffer.<br>All remaining bytes, chars etc. are equal.<br>As you can see, equals only compares part of the Buffer, not every single element inside it. In fact, it just compares the remaining elements in the Buffer.</p>
<p>compareTo()<br>The compareTo() method compares the remaining elements (bytes, chars etc.) of the two buffers, for use in e.g. sorting routines. A buffer is considered “smaller” than another buffer if:</p>
<p>The first element which is equal to the corresponding element in the other buffer, is smaller than that in the other buffer.<br>All elements are equal, but the first buffer runs out of elements before the second buffer does (it has fewer elements).</p>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="http://sunshichuang.com/nio-buffer/" data-id="cjhho6st200082mey6ybsa4ra" class="article-share-link"><i class="fa fa-share"></i>分享到</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fa fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    

        </footer>
    </div>
    
</article>



    <article id="post-nio-overview" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/nio-overview/">NIO系列2-JAVA NIO 概览</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/nio-overview/">
            <time datetime="2018-03-30T07:01:51.000Z" itemprop="datePublished">2018-03-30</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/NIO/">NIO</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/IO/">IO</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <!-- ![](/images/IO-TU.jpg) -->
<p>Java NIO 主要包含如下几个核心构成:</p>
<ul>
<li>Channels</li>
<li>Buffers</li>
<li>Selectors<br>Java NIO 的类跟组件当然远远不止于此，但是Channel、Buffer、Selector是其中核心的API。其余像Pipe和FileLock等类都仅仅是围绕这三个核心组件一起工作而已。因此，这里重点关注在这三个核心组件。对于奇特组件，将会在本系列的其他篇幅中做讲解，详细请关注本博客右侧的菜单。</li>
</ul>
<h2 id="Channels-and-Buffers"><a href="#Channels-and-Buffers" class="headerlink" title="Channels and Buffers"></a>Channels and Buffers</h2><p>一般情况下，在NIO中的所有IO操作都从一个通道开始。通道跟流的概念比较像，数据既可以从通道读入缓冲区，也可以从缓冲区写入通道。</p>
<p>Channel跟Buffer都有几种不同的实现类。以下是NIO中几种通道的主要实现类：</p>
<ul>
<li>FileChannel</li>
<li>DatagramChannel</li>
<li>SocketChannel</li>
<li>ServerSocketChannel</li>
</ul>
<p>如上所见，这几种通道覆盖了UDP + TCP网络流和文件流。</p>
<p>跟这些类一起也有好几种有趣的接口，但是这篇引导文中为了简单起见，将会把这块放到本系列的其他文章中进行介绍。</p>
<p>以下是NIO中几种缓冲区的主要实现类：</p>
<ul>
<li>ByteBuffer</li>
<li>CharBuffer</li>
<li>DoubleBuffer</li>
<li>FloatBuffer</li>
<li>IntBuffer</li>
<li>LongBuffer</li>
<li>ShortBuffer<br>这些缓冲区实现类基本覆盖了你可以用IO发送的基本数据类型：: byte, short, int, long, float, double and characters.<br>Java NIO 也有MappedByteBuffer用来处理内存映射文件。此类Buffer也将会在系列的其他章节里进行描述。</li>
</ul>
<h2 id="Selectors"><a href="#Selectors" class="headerlink" title="Selectors"></a>Selectors</h2><p>一个选择器允许单个线程处理多个通道实例。这个特性当你的应用有许多开着的连接，但是每个连接的使用率很低的情况时会很有用，比如聊天室。以下是一个线程用选择器处理三个通道的示例：</p>
<p><img src="/images/select-channel.png" alt=""></p>
<p>在使用Selector的时候，你需要把通道注册到选择器上。然后你就可以调用选这期的select()方法，select方法会一直阻塞直到一个事件已经为某个已注册的通道准备做好准备。一旦方法返回，这个线程可以接着处理这些事件。事件是指接受数据、处理链接等等。</p>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="http://sunshichuang.com/nio-overview/" data-id="cjhho6st000062meyy607x99c" class="article-share-link"><i class="fa fa-share"></i>分享到</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fa fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    

        </footer>
    </div>
    
</article>



    <article id="post-nio" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/nio/">NIO系列1:JAVA NIO 引导</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/nio/">
            <time datetime="2018-03-29T11:01:51.000Z" itemprop="datePublished">2018-03-29</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/Java/">Java</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/IO/">IO</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <p><img src="/images/IO-TU.jpg" alt=""><br>NIO与IO的区别</p>
<p>NIO的核心主要包含三个概念：</p>
<ul>
<li><p>Channels and Buffers<br>在传统的标准IO的api中，一般都是用字符流或者字节流来处理数据，在NIO中，用的是另外一种概念：channels 和 buffers。数据通常从通道中读入到的缓冲区，或者从缓冲区写到通道中。</p>
</li>
<li><p>Non-blocking IO<br>Java的NIO可以让你使用非阻塞型的IO操作。比如：当一个线程请求一个通道将数据读取到缓冲区时，在通道在读取数据到缓冲区的过程中，这个线程可以去做其他事情，一旦全部数据都读取到缓冲区，这个线程可以继续执行该操作。同样对数据写入通道的操作也是如此</p>
</li>
<li><p>Selectors<br>Java NIO 有了“选择器”的概念。一个选择器就是可以管理多个通道事件（比如连接的建立、数据是否已经读取等等）的对象。因此，单个线程可以管理多个通道的数据处理。</p>
</li>
</ul>
<p>下面的章节会详细讲一下NIO具体是如何工作的~~</p>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="http://sunshichuang.com/nio/" data-id="cjhho6st6000d2mey8vi9l9ed" class="article-share-link"><i class="fa fa-share"></i>分享到</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fa fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    

        </footer>
    </div>
    
</article>



    <article id="post-javabytecode2" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/javabytecode2/">Java类文件结构解析（二）</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/javabytecode2/">
            <time datetime="2017-10-31T09:01:51.000Z" itemprop="datePublished">2017-10-31</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/Java/">Java</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/虚拟机/">虚拟机</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            <p><p>承接上文 <a href="http://sunshichuang.com/javabytecode/">Java类文件结构解析（一）</a>，这里对照着字节码继续看一下字节码文件的具体结构。<br>从第一个16进制符往下看：</p>
<p>cafebabe 0000 0034 ，十进制大小为52 。表示魔数，指的是该class文件可以被java加载的版本号。  </p>
<p>0017 :表示这个类的常量池大小为23，那么常量池大小为22，之所以少一位，是因为0空出来特殊场景下表示不引用任何一个常量池项目。<br>常量池中主要存放两类常量：字面量跟符号引用。常量池中的每一项常量都是一个表。目前共有14种不同类型的表结构。且这14种表结构的首位都是一个u1类型的标志位，代表当前这个常量属于哪种常量类型。这14种常量的意思列表如下:<br></p>
            <p class="article-more-link">
                <a href="/javabytecode2/#more">查看更多</a>
            </p>
        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="http://sunshichuang.com/javabytecode2/" data-id="cjhho6ssm00022meyuk2h2f4q" class="article-share-link"><i class="fa fa-share"></i>分享到</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fa fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    

        </footer>
    </div>
    
</article>



    <article id="post-javabytecode" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/javabytecode/">Java类文件结构解析（一）</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/javabytecode/">
            <time datetime="2017-10-25T09:01:51.000Z" itemprop="datePublished">2017-10-25</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/Java/">Java</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/虚拟机/">虚拟机</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            <p><p><img src="/images/javalogo.png" alt=""><br>作为一个Java开发，每天编写的Java代码都是成百上千行，略去枯燥的业务代码不提，追寻代码从编译成class文件开始，虚拟机如何加载、解析这些代码的过程，一定要比单纯写业务代码有意思的多。</p>
<h1 id="一、class文件的结构"><a href="#一、class文件的结构" class="headerlink" title="一、class文件的结构"></a>一、class文件的结构</h1><p>我们日常开发的过程大致是这样的，我要提供个某某功能的服务，所以，我们开始巴拉巴拉、、</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AaBaServiceImpl</span> <span class="keyword">implements</span> <span class="title">AaBaService</span> </span>&#123;</div><div class="line">   <span class="comment">//巴拉巴拉一堆代码：服务依赖、变量定义、方法定义、常量、日志 等等等</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
            <p class="article-more-link">
                <a href="/javabytecode/#more">查看更多</a>
            </p>
        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="http://sunshichuang.com/javabytecode/" data-id="cjhho6st300092mey0bjlwj6c" class="article-share-link"><i class="fa fa-share"></i>分享到</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fa fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    

        </footer>
    </div>
    
</article>


</section>
            
                
<aside id="sidebar">
   
        
    <div class="widget-wrap">
        <h3 class="widget-title">最新文章</h3>
        <div class="widget">
            <ul id="recent-post" class="">
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/nio-channel/" class="thumbnail">
    
    
        <span style="background-image:url(/images/IO-TU.jpg)" alt="NIO系列3-JAVA NIO Channels" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/NIO/">NIO</a></p>
                            <p class="item-title"><a href="/nio-channel/" class="title">NIO系列3-JAVA NIO Channels</a></p>
                            <p class="item-date"><time datetime="2018-03-31T05:01:51.000Z" itemprop="datePublished">2018-03-31</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/nio-buffer/" class="thumbnail">
    
    
        <span style="background-image:url(/images/IO-TU.jpg)" alt="NIO系列3-JAVA NIO Buffers" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/NIO/">NIO</a></p>
                            <p class="item-title"><a href="/nio-buffer/" class="title">NIO系列3-JAVA NIO Buffers</a></p>
                            <p class="item-date"><time datetime="2018-03-31T05:01:51.000Z" itemprop="datePublished">2018-03-31</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/nio-overview/" class="thumbnail">
    
    
        <span style="background-image:url(/images/IO-TU.jpg)" alt="NIO系列2-JAVA NIO 概览" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/NIO/">NIO</a></p>
                            <p class="item-title"><a href="/nio-overview/" class="title">NIO系列2-JAVA NIO 概览</a></p>
                            <p class="item-date"><time datetime="2018-03-30T07:01:51.000Z" itemprop="datePublished">2018-03-30</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/nio/" class="thumbnail">
    
    
        <span style="background-image:url(/images/IO-TU.jpg)" alt="NIO系列1:JAVA NIO 引导" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Java/">Java</a></p>
                            <p class="item-title"><a href="/nio/" class="title">NIO系列1:JAVA NIO 引导</a></p>
                            <p class="item-date"><time datetime="2018-03-29T11:01:51.000Z" itemprop="datePublished">2018-03-29</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/javabytecode2/" class="thumbnail">
    
    
        <span style="background-image:url(/images/javalogo.png)" alt="Java类文件结构解析（二）" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Java/">Java</a></p>
                            <p class="item-title"><a href="/javabytecode2/" class="title">Java类文件结构解析（二）</a></p>
                            <p class="item-date"><time datetime="2017-10-31T09:01:51.000Z" itemprop="datePublished">2017-10-31</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">分类</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/NIO/">NIO</a><span class="category-list-count">3</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">归档</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">三月 2018</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">十月 2017</a><span class="archive-list-count">2</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">标签</h3>
        <div class="widget">
            <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/IO/">IO</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/虚拟机/">虚拟机</a><span class="tag-list-count">2</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">标签云</h3>
        <div class="widget tagcloud">
            <a href="/tags/IO/" style="font-size: 20px;">IO</a> <a href="/tags/虚拟机/" style="font-size: 10px;">虚拟机</a>
        </div>
    </div>

    
        
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">链接</h3>
        <div class="widget">
            <ul>
                
                    <li>
                        <a href="http://hexo.io">Hexo</a>
                    </li>
                
            </ul>
        </div>
    </div>


    
        
  <div class="widget-wrap">
    <h3 class="widget-title">About</h3>
    <div class="widget">
      邮箱：klevan@163.com<br />
      <!-- 微博：@xxxxx -->
    </div>
  </div>


    
    <div id="toTop" class="fa fa-angle-up"></div>
</aside>

            
        </div>
        <footer id="footer">
    <div class="outer">
        <div id="footer-info" class="inner">
            &copy; 2018 klevan<br>
            Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>. Theme by <a href="http://github.com/ppoffice">PPOffice</a>
        </div>
    </div>
</footer>
        


    
        <script src="/libs/lightgallery/js/lightgallery.min.js"></script>
        <script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>
        <script src="/libs/lightgallery/js/lg-pager.min.js"></script>
        <script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>
        <script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>
        <script src="/libs/lightgallery/js/lg-zoom.min.js"></script>
        <script src="/libs/lightgallery/js/lg-hash.min.js"></script>
        <script src="/libs/lightgallery/js/lg-share.min.js"></script>
        <script src="/libs/lightgallery/js/lg-video.min.js"></script>
    
    
        <script src="/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>
    
    



<!-- Custom Scripts -->
<script src="/js/main.js"></script>

    </div>
</body>
</html>